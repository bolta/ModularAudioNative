//@export __Native

// TODO 無駄な記述が多いのでなんとかしたい
// __Native から一部または全部をローカル変数にできればいいのだが
@let :map, __Native.map
@let :flat, __Native.flat
@let :reduce, __Native.reduce

@export {
	map: map,
	flat: flat,
	reduce: reduce,
	filter: __Native.filter,
	sineOsc: __Native.sineOsc,
	adsrEnv: __Native.adsrEnv,

	flatMap: (source, mapper) => source~map(mapper)~flat(),
	sum: source => source~reduce(0, (acc, elem) => acc + elem),
}
